<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
  <title>Turregistrering</title>
  <link rel="stylesheet" href="https://js.arcgis.com/4.6/esri/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="css\prosjektregistrering_style.css">
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <script src="https://js.arcgis.com/4.6/"></script>
  <script src="js\kart.js"></script>
</head>
<body>
  <div class="wrapper">
    <div class="sidepanel"></div>
    <div class="hovedpanel">
      <div id="header">
        <img id="logo" src="img\mountain.svg">
        <h2>Turregistrering</h2>
        <span>?</span>
      </div>
      <!-- Fjelltoppseksjon -->
      <button id="toppdetaljer" class="accordion active">Fjelltopp</button>
      <div id="toppinfo" class="panel aapen">
        <h3>Toppinformasjon</h3>
        <p>I denne seksjonen kan du enten velge en eksisterende topp eller registrere en ny topp.</p>
        <!-- Kartet for registrering eller velging av topp -->
        <div id="toppViewDiv">
          <!-- Loader -->
          <div id="loader">
            <img class="image roter-bilde" src="img\weather.png" alt="" width="120" height="120">
          </div>
          <div class="map-ui-component">
            <!-- Infoboks og stedsøk -->
            <div id="sokInfo" >
              <!-- Stedssøk input -->
              <div id="search">
                <input type="text" placeholder="Søk på stedsnavn" :value="stedsNavn" @keyup="stedSok">
                <!-- <input type="text" placeholder="Søk på stedsnavn" :value="stedsNavn" @keyup="stedSok"> -->
              </div>
              <!-- Stedssøk resultat -->
              <transition name="aapne">
                <div id="searchResult" v-if="resultat[0]">
                  <a href="javascript:void(0)" class="closebtn" @click="lukkSok">&times;</a>
                  <ul>
                    <li v-for="item in resultat" :data-x="item.x" :data-y="item.y" @click="slaaOppSted">{{ item.navn }}, {{ item.type }} i {{ item.kommune }}</li>
                  </ul>
                </div>
              </transition>
            </div>
            <!-- <input type="text"  name="search" placeholder="Søk på stedsnavn"> -->
          </div>
          <button class="action-button esri-icon-plus" id="nyTopp" type="button"></button>
        </div>
        <div id="fjelltopFormWrapper">
          <div  class="form-wrapper" v-if="lagretGrafikk">
            <form id="toppregistrering" name="toppregistrering" >
              <p>Felter merket med * er obligatoriske</p>
              <div class="formitem">
                <label for="toppnavn">Navn *</label>
                <input type="text" name="toppnavn" placeholder="Skriv inn fjellets navn" required>
              </div>

              <div class="formitem">
                <label for="topphoyde">Høyde *</label>
                <div id="dato">
                  <input type="number" min="0" max="2700" name="topphoyde" placeholder="moh" required>
                </div>
              </div>

              <div class="formitem">
                <label for="beskrivelse">Beskrivelse *</label>
                <textarea  name="beskrivelse" placeholder="Skriv inn en beskrivelse av turen" rows="8" cols="80"></textarea>
              </div>

              <div class="formitem">
                <label for="merknad">Merknad</label>
                <textarea  name="merknad" placeholder="Skriv inn en merknad av turen om det finnes noen" rows="4" cols="80"></textarea>
              </div>

              <div id="valideringForm" class="message">
              </div>
            </form>
            <div class="knapperad">
              <button type="button" class="knapp" name="registrerFjelltopp">Registrer fjelltopp</button>
              <button type="button" class="knapp" name="" @click="resetkart">Prøv igjen</button>
            </div>
          </div>
        </div>
        <div id="valgtFjelltopp" name="valgt-topp-info">
          <div class="vue-wrapper" v-if="valgttopp.navn.length > 0">
            <div class="valg-resultat">
              <p><b>Navn:</b> {{ valgttopp.navn }}</p>
              <p><b>Høyde:</b>  {{ valgttopp.hoyde }} moh.</p>
              <p><b>Beskrivelse:</b> {{ valgttopp.beskrivelse }}</p>
              <p><b>Merknad:</b> {{ valgttopp.merknad }}</p>
            </div>
            <p><span><i>Er dette riktig fjelltopp?</i></span></p>
            <div class="knapperad">
              <button type="button" class="knapp" name="velgtopp" @click="velgtopp">Velg topp</button>
              <button type="button" class="knapp" name="velgnytopp" @click="velgnytopp">Prøv igjen</button>
            </div>
          </div>
        </div>
      </div>
      <!-- Parkerings-seksjon -->
      <button id="parkeringregistrering" class="accordion">Parkering</button>
      <div id="parkeringinfo" class="panel">
        <p>I denne seksjonen kan du enten velge en allerede registrert parkering eller registrere en ny parkering.
           <br/>Felter merket med * er obligatoriske
        </p>
        <!-- Kartet for registrering eller velging av parkering -->
        <div  class="form-wrapper borte" v-if="lagretGrafikk">
          <form name="parkeringregistrering" class="valg-resultat">
            <h3>Parkeringformasjon</h3>

            <div class="formitem">
              <label for="parkeringnavn">Navn *</label>
              <input type="text" name="parkeringnavn" placeholder="Skriv inn parkeringsplassens navn" required>
            </div>

            <div class="formitem">
              <label for="">Antall parkeringsplasser *</label>
              <select name="vegavdeling" required>
                <option value="" disabled selected>Velg antall parkeringsplasser</option>
                <option value="0 - 5">0 - 5</option>
                <option value="5 - 10">5 - 10</option>
                <option value="10 - 15">10 - 15</option>
                <option value="15 +">15 +</option>
              </select>
            </div>

            <div class="formitem">
              <label for="">Vinterbrøytet *</label>
              <select name="vegavdeling" required>
                <option value="" disabled selected>Velg alternativ</option>
                <option value="ja">Ja</option>
                <option value="nei">Nei</option>
              </select>
            </div>

            <div class="formitem">
              <label for="merknad">Merknad</label>
              <textarea  name="merknad" placeholder="Skriv inn en merknad om parkeringen om det finnes noen" rows="8" cols="80"></textarea>
            </div>
          </form>
          <div class="knapperad">
            <button type="button" class="knapp" name="registrerParkering">Registrer parkering</button>
            <button type="button" class="knapp" name="" @click="resetkart">Prøv igjen</button>
          </div>
        </div>
        <!-- <div id="valgtFjelltopp" name="valgt-topp-info">
          <div class="vue-wrapper" v-if="valgtparkering.navn.length > 0">
            <div class="valg-resultat">
              <p><b>Navn:</b> {{ valgttopp.navn }}</p>
              <p><b>Høyde:</b>  {{ valgttopp.hoyde }} moh.</p>
              <p><b>Beskrivelse:</b> {{ valgttopp.beskrivelse }}</p>
              <p><b>Merknad:</b> {{ valgttopp.merknad }}</p>
            </div>
            <p><span><i>Er dette riktig fjelltopp?</i></span></p>
            <div class="knapperad">
              <button type="button" class="knapp" name="velgtopp" @click="velgtopp">Velg topp</button>
              <button type="button" class="knapp" name="velgnytopp" @click="velgnytopp">Prøv igjen</button>
            </div>
          </div>
        </div> -->
        <div class="message">
        </div>
      </div>

      <!-- Registrer rute -->
      <button id="parkeringregistrering" class="accordion">Rute</button>
      <div id="parkeringinfo" class="panel">
        <p>I denne seksjonen kan du enten velge en allerede registrert parkering eller registrere en ny parkering.
           <br/>Felter merket med * er obligatoriske
        </p>
        <!-- Kartet for registrering eller velging av parkering -->
        <div  class="form-wrapper borte" v-if="lagretGrafikk">
          <form name="parkeringregistrering" class="valg-resultat">
            <h3>Parkeringformasjon</h3>

            <div class="formitem">
              <label for="parkeringnavn">Navn *</label>
              <input type="text" name="parkeringnavn" placeholder="Skriv inn parkeringsplassens navn" required>
            </div>

            <div class="formitem">
              <label for="">Antall parkeringsplasser *</label>
              <select name="vegavdeling" required>
                <option value="" disabled selected>Velg antall parkeringsplasser</option>
                <option value="0 - 5">0 - 5</option>
                <option value="5 - 10">5 - 10</option>
                <option value="10 - 15">10 - 15</option>
                <option value="15 +">15 +</option>
              </select>
            </div>

            <div class="formitem">
              <label for="">Vinterbrøytet *</label>
              <select name="vegavdeling" required>
                <option value="" disabled selected>Velg alternativ</option>
                <option value="ja">Ja</option>
                <option value="nei">Nei</option>
              </select>
            </div>

            <div class="formitem">
              <label for="merknad">Merknad</label>
              <textarea  name="merknad" placeholder="Skriv inn en merknad om parkeringen om det finnes noen" rows="8" cols="80"></textarea>
            </div>
          </form>
          <div class="knapperad">
            <button type="button" class="knapp" name="registrerParkering">Registrer rute</button>
            <button type="button" class="knapp" name="" @click="resetkart">Prøv igjen</button>
          </div>
        </div>
        <div class="message">
        </div>
      </div>

      <button id="sendinn" class="accordion">Send inn</button>
      <div id="submit" class="panel">
        <div id="sluttmelding" class="errorMessage">
          <p>Registreringen av prosjekt med navn <span id="prosjektVerdi">Prosjektnavn</span> er fullført</p>
          <p>For å se en kartoversikt over registrerte prosjekter i region Nord kan du gå inn på <a href="http://vegvesen.maps.arcgis.com/apps/webappviewer/index.html?id=2c6b9e7a5a57410c9d833c7cb0e5c6b2" target="#">dette</a> kartet</p>
          <p>Om du vil registrere et nytt prosjekt kan du gjøre dette ved å trykke på knappen under</p>
        </div>
        <button type="button" name="nyttprosjekt">Registrer nytt prosjekt</button>
      </div>
    </div>
    <div class="sidepanel"></div>
  </div>
  <script type="text/javascript" src="js\prosjektregistrering.js"></script>
</body>
</html>
